<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="../css/layout.css" rel="stylesheet">
    <link href="../css/common.css" rel="stylesheet">
</head>
<body>
    <div class="main">

        <div class="sidebar">
            <div class="menu">
                <img class="menu-icon" src="../images/menu_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg">
            </div>

            <hr class="divider">
            
            <div class="profile">
                <img src="../images/account_circle_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg" alt="User Profile" class="profile-image">
                <button class="primary-button none-display">로그인</button> 
            </div>

            <hr class="divider">

            <div class="sidebar-item">
                <img class="sidebar-icon" src="../images/home_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg">
                <span class="sidebar-text">홈</span>
            </div>
            <div class="sidebar-item">
                <img class="sidebar-icon" src="../images/music_note_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg">
                <span class="sidebar-text">곡</span>
            </div>
            <div class="sidebar-item">
                <img class="sidebar-icon" src="../images/graphic_eq_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg">
                <span class="sidebar-text">효과음</span>
            </div>

            <hr class="divider">
            
            <div class="sidebar-item">
                <img class="sidebar-icon" src="../images/help_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg">
                <span class="sidebar-text">문의</span>
            </div>
        </div> <!-- end sidebar -->

        <div class="article">
            
            <div class="navigation">
                <div class="navigation-menu">
                    <img class="navigation-menu-icon" src="../images/menu_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg">
                </div>
                <div class="sitename font-size-small">사이트이름</div>
                <div class="user">회원가입</div>
            </div><!-- end navigation -->

            <div class="searchbar">
                <div class="searchbar-container">
                    <span class="searchbar-icon">
                        <img src="../images/search_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg" alt="Search Icon">
                    </span>
                    <input type="text" placeholder="검색...">
                </div>
            </div><!-- end searchbar -->

            <div class="content">
<style>
    .content-body{
        border-top:1px solid #555;
    }

    .music-list {
        padding: 20px;
    }
    
    .music-sort{
        display: flex;
        justify-content: right;
        align-items: center;
        margin-bottom: 5px;
        color: #555;
    }

    .music-sort-menu {
        display: none; /* 기본적으로 숨김 */
        position: absolute;
        background-color: #fff;
        border: 1px solid #ddd;
        box-shadow: 0 4px 8px #555;
        z-index: 1;
        bottom: 335px; /* 부모 요소에서 얼마나 떨어질지 */
        right: 0; /* 오른쪽 정렬 */
        min-width: 150px;
    }

    .music-sort-menu ul , .music-tag-sort-menu ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .music-sort-menu ul li, .music-tag-sort-menu ul li {
        padding: 10px;
        cursor: pointer;
        font-size: 14px;
        border-bottom: 1px solid #ddd;
        color: #555;
    }

    .music-sort-menu ul li:hover, .music-tag-sort-menu ul li:hover{
        background-color: #f1f1f1;
    }


    .music-item{
        display: flex;
        justify-content: space-between;
        margin-top: 15px;
        margin-bottom: 15px;
    }

    .music-item-left,
    .music-item-center,
    .music-item-right{
        display: flex;

    }

    .music-play-btn img{
        width: 30px;
        height: 30px;
    }

    .music-play-btn,
    .music-info,
    .music-info-tag,
    .music-info-time{
        margin-left: 20px;
    }

    .music-info h3 {
        font-size: 16px; /* 가수명 크기 */
        font-weight: bold; /* 가수명을 더 두껍게 설정 */
        margin-top: 5px;
    }

    .music-info-tag span,
    .music-info p,
    .music-info-time p {
        font-size: 12px; /* 앨범명 크기 */
        color: #555; /* 앨범명 색상 */
        margin: 5px 0 0;
    }

    .music-album-img{
        width: 50px;
        height: 50px;
    }

    .music-play-btn img,
    .music-actions img,
    .music-sort img,
    .music-tag-sort-list img{
        width: 20px;
        height: 20px;
    }
    .music-info-tag{
        display: flex;
        align-items: center;
        gap: 3px;
        
    }
    .music-play-btn,
    .music-actions,
    .music-info-time{
        display: flex;
        justify-content: center; /* 수평 가운데 정렬 */
        align-items: center; /* 수직 가운데 정렬 */
        gap: 5px; /* 아이템 간격 조정 */
    }

    .music-tag{
        margin-bottom: 15px;
    }
    /* 기본 태그 스타일 */
    .music-tag .tag {
        display: inline-block;
        padding: 5px;
        border: 1px solid #ccc;
        border-radius: 15px;
        margin-top: 15px;
        margin-right: 5px;
        color: #555;
        font-size: 12px;
        cursor: pointer;
    }

    /* 태그 클릭 시 활성화 상태 스타일 */
    .music-tag .tag.active {
        background-color: #555;
        color: white;
        border-color: #555;
    }

    /* 드롭다운 기본 스타일: 숨김 상태 */
    .music-tag-sort-menu {
        display: none;
        position: absolute;
        z-index: 1;
        background-color: #fff;
        border: 1px solid #ddd;
        box-shadow: 0 4px 8px 555;
        width: 200px;
    }

    /* 드롭다운 항목 스타일 */
    .music-tag-sort-menu span {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
    }

    /* 드롭다운이 활성화될 때 보이게 설정 */
    .music-tag-sort-menu.active {
        display: block;
    }

    .music-tag-sort-list{
        display: flex;
        justify-content: left;
        align-items: center;
        color: #555;
        border-bottom: 1px  solid #ddd;
    }
    .music-tag-sort-toggle{
        border-radius: 5px;
        padding: 5px;
    }

</style>
<!-- ../images/album_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg -->
                <div class="content-header">
                    <div class="music-options">
                    <div class="music-tag-sort">
                        <div class="music-tag-sort-list">
                            <img src="../images/label_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="태그">
                            <span class="music-tag-sort-toggle" data-target="instrument">악기</span>
                            <img src="../images/arrow_drop_down_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="늘리기">
                            <span class="music-tag-sort-toggle" data-target="mood">분위기</span>
                            <img src="../images/arrow_drop_down_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="늘리기">
                            <span class="music-tag-sort-toggle" data-target="genre">장르</span>
                            <img src="../images/arrow_drop_down_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="늘리기">
                        </div>
                        <!-- 드롭다운 콘텐츠 -->
                        <div class="music-tag-sort-menu" id="instrument">
                            <ul>
                                <li data-tag="piano" class="tag">피아노</li>
                                <li data-tag="violin" class="tag">바이올린</li>
                            </ul>
                        </div>

                        <div class="music-tag-sort-menu" id="mood">
                            <ul>
                                <li data-tag="happy" class="tag">행복한</li>
                                <li data-tag="sad" class="tag">슬픈</li>
                                <li data-tag="exciting" class="tag">즐거운</li>
                            </ul>
                        </div>

                        <div class="music-tag-sort-menu" id="genre">
                            <ul>
                                <li data-tag="classic" class="tag">클래식</li>
                                <li data-tag="jazz" class="tag">재즈</li>
                                <li data-tag="rock" class="tag">록</li>
                            </ul>
                        </div>
                    </div>

                    <div class="music-tag">
                        <span data-tag="piano" class="tag">피아노</span>
                        <span data-tag="violin" class="tag">바이올린</span>
                        <span data-tag="happy" class="tag">행복한</span>
                        <span data-tag="sad" class="tag">슬픈</span>
                        <span data-tag="exciting" class="tag">즐거운</span>
                    </div>
                        <div class="music-sort">
                            <span class="music-sort-left" id="sortKeyword">정렬</span>
                            <img src="../images/swap_vert_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="정렬" id="sortIcon"> 
                            <!-- 정렬 드롭다운 -->
                            <div class="music-sort-menu" id="musicSortMenu">
                                <ul>
                                    <li data-sort="download">다운로드순</li>
                                    <li data-sort="name">이름순</li>
                                    <li data-sort="length">길이순</li>
                                </ul>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="content-body">
                    <div class="music-item">
                        <div class="music-item-left">
                            <img src="../images/sample-album-imge.png" alt="앨범 이미지" class="music-album-img">
                                <div class="music-play-btn">
                                    <img src="../images/play_circle_50dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="재생">
                                </div>
                            <div class="music-info">
                                <h3>Jonsi</h3>
                                <p>Go</p>
                            </div>
                            <div class="music-info-time">
                                <p>3:21</p>
                            </div>
                        </div>
                        <div class="music-item-center">
                            <div class="music-info-tag">
                                <span>피아노</span><span>즐거운</span>
                            </div>
                        </div>

                        <div class="music-item-right">
                            <div class="music-actions">
                                <img src="../images/download_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="다운로드">
                                <img src="../images/shopping_bag_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="장바구니">
                                <img src="../images/link_50dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="공유">
                            </div>
                        </div>
                    </div>
                    <!-- 반복될 음악 항목 끝 -->
                </div>

                <!-- 임시 목록용 디브 나중에 그냥 지우면 됨 -->
                <div>
                    <div class="content-body">
                        <div class="music-item">
                            <div class="music-item-left">
                                <img src="../images/album_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="앨범 이미지" class="music-album-img">
                                    <div class="music-play-btn">
                                        <img src="../images/play_circle_50dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="재생">
                                    </div>
                                <div class="music-info">
                                    <h3>Jonsi</h3>
                                    <p>Go</p>
                                </div>
                                <div class="music-info-tag">
                                    <span>피아노</span><span>즐거운</span>
                                </div>
                            </div>

                            <div class="music-item-right">
                                <div class="music-actions">
                                    <img src="../images/download_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="다운로드">
                                    <img src="../images/shopping_bag_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="장바구니">
                                    <img src="../images/link_50dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="공유">
                                </div>
                            </div>
                        </div>
                        <!-- 반복될 음악 항목 끝 -->
                    </div>
                    <div class="content-body">
                        <div class="music-item">
                            <div class="music-item-left">
                                <img src="../images/album_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="앨범 이미지" class="music-album-img">
                                    <div class="music-play-btn">
                                        <img src="../images/play_circle_50dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="재생">
                                    </div>
                                <div class="music-info">
                                    <h3>Jonsi</h3>
                                    <p>Go</p>
                                </div>
                                <div class="music-info-tag">
                                    <span>피아노</span><span>즐거운</span>
                                </div>
                            </div>

                            <div class="music-item-right">
                                <div class="music-actions">
                                    <img src="../images/download_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="다운로드">
                                    <img src="../images/shopping_bag_48dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="장바구니">
                                    <img src="../images/link_50dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="공유">
                                </div>
                            </div>
                        </div>
                        <!-- 반복될 음악 항목 끝 -->
                    </div>
                </div>
                <!-- 여기까지 임시 목록용 디브 나중에 그냥 지우면 됨 -->

                <span class="play-trigger" style="cursor: pointer; color: blue;">재생</span>
            </div><!-- end content -->

            <div class="footer">
                푸터 영역
            </div><!-- end footer -->

        </div><!-- end article -->

    </div><!-- end main -->
    
    <div class="music-player" id="musicPlayer">

        <!-- 1. 앨범이미지, 곡정보, 시작버튼 -->
        <div class="player-left">
            <div class="music-player-img">
                <img src="../images/library_add_check_50dp_32ADE6_FILL0_wght400_GRAD0_opsz48.svg" alt="앨범이미지">
            </div>

            <div class="music-player-info">
                <span class="music-player-info-title">Henglias</span>
                <span class="music-player-info-writer">Jonsi</span>
            </div>

            <div class="music-player-play" id="playButton">
                <img src="../images/play_circle_50dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="플레이">
            </div>
        </div><!-- end player-left -->

        <!-- 2. 러닝타임, 웨이브파형 -->
        <div class="player-middle">
            <div class="music-player-time">
                02:47/03:43
            </div>

            <div class="music-player-waveform">
                <span>(Song WaveForm)</span>
            </div>
        </div><!-- end player-middle -->

        <!-- 3. 다운로드, 좋아요, 음량, 복사 -->
        <div class="player-right">
            <div class="music-player-volume">
                <img src="../images/volume_up_50dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="볼륨">
            </div>

            <div class="music-player-slider">
                <input type="range" class="volume-slider" min="0" max="100" value="50">
            </div>

            <div class="music-player-download">
                <img src="../images/download_50dp_32ADE6_FILL0_wght400_GRAD0_opsz48.svg" alt="다운로드">
            </div>

            <div class="music-player-favorite">
                <img src="../images/heart_plus_50dp_32ADE6_FILL0_wght400_GRAD0_opsz48.svg" alt="좋아요">
            </div>

            <div class="music-player-copy">
                <img src="../images/link_50dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg" alt="링크복사" id="copyLinkButton">
            </div>

            <div class="copy-notification" id="copyNotification">링크가 복사되었습니다!</div>
        </div><!-- end player-right -->
    </div><!-- end music-player -->

    <script>
        document.querySelector('.menu').addEventListener('click', function() {
            var sidebar = document.querySelector('.sidebar');
            var menuIcon = document.querySelector('.menu-icon');
            
            sidebar.classList.toggle('expanded');

            if (sidebar.classList.contains('expanded')) {
                menuIcon.src = '../images/close_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg';
            } else {
                menuIcon.src = '../images/menu_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg';
            }
        });


        // 모바일 환경에서 navigation-menu 클릭 시 sidebar 확장
        document.querySelector('.navigation-menu').addEventListener('click', function() {
            var sidebar = document.querySelector('.sidebar');
            var menuIcon = document.querySelector('.menu-icon');

            // 사이드바 확장/축소 토글
            sidebar.classList.toggle('expanded');

            // 확장 상태에 따라 메뉴 아이콘 변경
            if (sidebar.classList.contains('expanded')) {
                menuIcon.src = '../images/close_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg';
            } else {
                menuIcon.src = '../images/menu_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.svg';
            }
        });

        // 플레이어 보이기/숨기기 트리거 (예: 다른 요소에 연결)
        document.querySelector('.play-trigger')?.addEventListener('click', function() {
            console.log("click play");
            var musicPlayer = document.getElementById('musicPlayer');
            musicPlayer.classList.toggle('visible');
        });

        // 재생/정지 버튼 토글
        document.getElementById('playButton').addEventListener('click', function() {
            var playButton = document.querySelector('#playButton img');
            
            if (playButton.src.includes('play_circle')) {
                playButton.src = 'pause_circle_50dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg';
                playButton.alt = '정지';
            } else {
                playButton.src = 'play_circle_50dp_5F6368_FILL0_wght400_GRAD0_opsz48.svg';
                playButton.alt = '플레이';
            }
        });
        
        document.getElementById('copyLinkButton').addEventListener('click', function() {
            // 복사할 링크 예시
            const linkToCopy = 'https://example.com/music/track';

            // 클립보드에 텍스트 복사
            navigator.clipboard.writeText(linkToCopy).then(function() {
                // 복사 완료 후 메시지 표시
                const notification = document.getElementById('copyNotification');
                notification.style.display = 'block';
                
                // 2초 후 메시지 숨기기
                setTimeout(function() {
                    notification.style.display = 'none';
                }, 2000);
            }).catch(function(error) {
                console.error('복사 실패:', error);
            });
        });

        // 정렬 버튼 클릭 시 드롭다운 메뉴 표시/숨기기
        // #sortIcon과 #sortKeyword 둘 다 클릭 시 동일한 동작 적용
        document.querySelectorAll('#sortIcon, #sortKeyword').forEach(function(element) {
            element.addEventListener('click', function() {
                var dropdown = document.getElementById('musicSortMenu');
                
                // 드롭다운 메뉴가 보이는 상태라면 숨기고, 숨겨져 있으면 보이게 함
                if (dropdown.style.display === "none" || dropdown.style.display === "") {
                    dropdown.style.display = "block";
                } else {
                    dropdown.style.display = "none";
                }
            });
        });

        // 드롭다운의 옵션 선택 시 정렬 작업을 수행할 수 있도록 설정
        document.querySelectorAll('#musicSortMenu li').forEach(function(item) {
            item.addEventListener('click', function() {
                var sortType = this.getAttribute('data-sort');
                console.log(sortType + " 정렬 선택됨");

                // 여기에 정렬에 맞는 작업을 추가하면 됨 (예: 리스트 정렬)
                
                // 선택 후 드롭다운 메뉴 닫기
                document.getElementById('musicSortMenu').style.display = 'none';
            });
        });
        
        // 모든 태그 span 요소들을 선택
        const tags = document.querySelectorAll('.music-tag .tag');

        // 각 태그에 클릭 이벤트 추가
        tags.forEach(tag => {
            tag.addEventListener('click', function() {
                // 클릭된 태그의 활성화/비활성화 처리
                this.classList.toggle('active');
                
                // 클릭된 태그의 데이터 값을 콘솔에 출력
                const tagValue = this.getAttribute('data-tag');
                console.log('클릭된 태그:', tagValue);
                
                // 여기서 필터링 기능을 추가하면 됨
                // 예: searchResults(tagValue);
            });
        });

        // 드롭다운을 여는 이벤트
        document.querySelectorAll('.music-tag-sort-toggle').forEach(toggle => {
            toggle.addEventListener('click', function() {
                const targetId = this.getAttribute('data-target');
                const dropdownMenu = document.getElementById(targetId);

                // 모든 드롭다운을 닫기
                document.querySelectorAll('.music-tag-sort-menu').forEach(menu => {
                    if (menu !== dropdownMenu) {
                        menu.classList.remove('active');
                    }
                });

                // 클릭한 드롭다운 메뉴를 토글 (보이기/숨기기)
                dropdownMenu.classList.toggle('active');
            });
        });

        // 태그 클릭 시 선택 및 드롭다운 닫기
        document.querySelectorAll('.music-tag-sort-menu .tag').forEach(tag => {
            tag.addEventListener('click', function() {
                // 선택된 태그의 data-tag 값
                const tagValue = this.getAttribute('data-tag');
                console.log('선택된 태그:', tagValue);

                // 모든 드롭다운 닫기
                document.querySelectorAll('.music-tag-sort-menu').forEach(menu => {
                    menu.classList.remove('active');
                });

                // music-tag 영역에서 동일한 data-tag 값을 가진 태그 활성화
                const correspondingTag = document.querySelector(`.music-tag .tag[data-tag="${tagValue}"]`);
                if (correspondingTag) {
                    correspondingTag.classList.add('active');  // 해당 태그를 활성화 (class="active" 추가)
                }
            });
        });


// 외부 클릭 시 드롭다운 닫기
document.addEventListener('click', function(event) {
    const isClickInsideMenu = event.target.closest('.music-tag-sort-toggle, .music-tag-sort-menu');

    // 드롭다운 내부를 클릭하지 않은 경우에만 드롭다운 닫기
    if (!isClickInsideMenu) {
        document.querySelectorAll('.music-tag-sort-menu').forEach(menu => {
            menu.classList.remove('active');
        });
    }
});
    </script>
</body>
</html>
